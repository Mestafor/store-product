(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[12],{"./src/client/ts/theme/Components/StoreProduct/index.ts":function(t,e,o){"use strict";o.r(e);var n={edit:!1,replay:!1,showComments:!1},s={edit:!0},i={replay:!0},c={showComments:!0},r=function(){function t(t,e){var o=this;this.$body=null,this.$controlsWrapper=[],this.$replyList=null,this.$leaveComment=null,this._config={},this.state=n,this.$wrapper=t,this.$body=this.$wrapper.querySelector(".js-project-comment__body"),this.$replyList=this.$wrapper.querySelector(".js-project-comment__reply-list"),this.$leaveComment=this.$wrapper.querySelector(".js-project-comment__leave-comment"),e&&(this._config=e);for(var s=this.$wrapper.children,i=0;i<s.length;i++)s[i].classList.contains("js-project-comment__controls")&&this.$controlsWrapper.push(s[i]);this.$controlsWrapper.forEach((function(t){if(o.$controlsWrapper){var e=t.querySelectorAll(".js-project-comment__edit-control"),n=t.querySelectorAll(".js-project-comment__show-control"),s=t.querySelectorAll(".js-project-comment__reply-control"),i=t.querySelectorAll(".js-project-comment__like-control"),c=t.querySelectorAll(".js-project-comment__dislike-control");e.forEach((function(t){t.addEventListener("click",o.onEdit.bind(o))})),n.forEach((function(t){t.addEventListener("click",o.onShowComments.bind(o))})),s.forEach((function(t){t.addEventListener("click",o.onReply.bind(o))})),i.forEach((function(t){t.addEventListener("click",(function(t){o.onLike(t),c.forEach((function(t){t.instance&&t.instance.deactivate()}))}))})),c.forEach((function(t){t.addEventListener("click",(function(t){o.onDislike(t),i.forEach((function(t){t.instance&&t.instance.deactivate()}))}))}))}}))}return t.prototype.setState=function(t){this.state=Object.assign({},this.state,t)},t.prototype.onEdit=function(t){t.preventDefault(),console.log("click edit"),this.state.edit?this.setState({edit:!1}):this.setState(s),this.updateView()},t.prototype.onShowComments=function(t){t.preventDefault(),console.log("click show comments"),this.state.showComments?this.setState({showComments:!1}):this.setState(c),this.updateView()},t.prototype.onReply=function(t){t.preventDefault(),console.log("click reply"),this.state.replay?this.setState({replay:!1}):this.setState(i),this.updateView()},t.prototype.onLike=function(t){t.preventDefault(),console.log("click like")},t.prototype.onDislike=function(t){t.preventDefault(),console.log("click dislike")},t.prototype.updateView=function(){if(this.state.edit?(this.$body&&this.$body.setAttribute("contenteditable","true"),this.$controlsWrapper.forEach((function(t){t.classList.add("--edit")}))):(this.$body&&this.$body.removeAttribute("contenteditable"),this.$controlsWrapper.forEach((function(t){t.classList.remove("--edit")}))),this.state.showComments?(this.$replyList&&this.$replyList.classList.remove("hide"),this.$controlsWrapper.forEach((function(t){t.classList.add("--show-comment")}))):(this.$replyList&&this.$replyList.classList.add("hide"),this.$controlsWrapper.forEach((function(t){t.classList.remove("--show-comment")}))),this.state.replay){if(this.$leaveComment){this.$leaveComment.classList.remove("hide");var t=this.$leaveComment.querySelector('input[name="message"]');t&&t.focus()}this.$controlsWrapper.forEach((function(t){t.classList.add("--reply")}))}else this.$leaveComment&&this.$leaveComment.classList.add("hide"),this.$controlsWrapper.forEach((function(t){t.classList.remove("--reply")}));"function"==typeof this._config.onChange&&this._config.onChange()},t}(),l=o("./src/client/ts/lib/Observer/EventSubscriber.ts"),a=o("./src/client/ts/app.ts");o.d(e,"StoreProductContainer",(function(){return h}));var h=function(){function t(){}return t.init=function(){document.querySelectorAll(".js-project-comment").forEach((function(t){new r(t,{onChange:function(){l.a.dispatch(a.a.UPDATE_STICKY_ASIDE_POSITION)}})}))},t}()}}]);