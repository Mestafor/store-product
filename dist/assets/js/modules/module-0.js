(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[0,1],{"./src/client/ts/Components/DropDown/index.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"ClickableItemStore",(function(){return o}));var i=s("./src/client/ts/helpers.ts"),o=function(){function e(){}return e.add=function(t){e._items.push(t)},e.close=function(){e._items.forEach((function(e){return e.close()})),e._items=[]},e._items=[],e}(),n=function(){function e(e){var t=this;if(this.close=function(){t._$wrapper.classList.remove("project-dropDown--focused");var e=i.a.getParentByClass(t._$wrapper,"hover-box__item--show-on-hover");e&&e.classList.remove("hover-box--focused"),document.removeEventListener("click",t.close);var s=i.a.getParentByClass(t._$wrapper,"project-product");s&&(s.style.zIndex="",s.classList.remove("js-dropdown-opened"))},this._$wrapper=e.wrapper,this._$wrapper.querySelectorAll(".project-dropDown__show-on-focused").forEach((function(e){e.addEventListener("focus",(function(e){t._$wrapper.classList.add("project-dropDown--focused")})),e.addEventListener("blur",(function(e){t._$wrapper.classList.remove("project-dropDown--focused")}))})),this._$wrapper.classList.contains("project-dropDown--js-click")){var s=this._$wrapper.querySelector(".project-dropDown__title");s&&s.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t._$wrapper.classList.contains("project-dropDown--focused")?(t.close(),o.close()):(o.close(),t.open())}));var n=this._$wrapper.querySelector(".project-dropDown__list-wrapper");n&&n.addEventListener("click",(function(e){e.stopPropagation()}))}}return e.prototype.open=function(){this._$wrapper.classList.add("project-dropDown--focused");var e=i.a.getParentByClass(this._$wrapper,"hover-box__item--show-on-hover");e&&e.classList.add("hover-box--focused"),document.addEventListener("click",this.close),o.add(this);var t=i.a.getParentByClass(this._$wrapper,"project-product");t&&(t.style.zIndex="2",t.classList.add("js-dropdown-opened"))},e}();t.default=n},"./src/client/ts/Components/Select/index.ts":function(e,t,s){"use strict";s.r(t);var i,o=s("./src/client/ts/helpers.ts"),n=s("./src/client/ts/Components/DropDown/index.ts");!function(e){e.INITED="--select-inited",e.WRAPPER="project-select",e.ACCORDION="project-select--accordion",e.OPTIONS_IS_OPEN="project-select--options-is-open",e.TITLE="project-select__title",e.TITLE_TEXT="project-select__title-text",e.OPTIONS="project-select__options",e.LIST="project-select__list",e.LIST_ITEM="project-select__list-item",e.LIST_ITEM_ACTIVE="project-select__list-item--active",e.ARROW="project-select__arrow",e.ERROR="error--active",e.FOCUSED="hover-box--focused",e.TOGGLE_SELECT="project-select__toggle"}(i||(i={}));var r=function(){function e(e){var t=this;this._selected=[],this._target=null,this._isOpen=!1,this._isOpened=!1,this._argv=e,this._$wrapper=this._argv.wrapper,this._$field=this._$wrapper.querySelector("select"),this._$title=this._$wrapper.querySelector("."+i.TITLE),this._$titleText=this._$wrapper.querySelector("."+i.TITLE_TEXT),this._$options=this._$wrapper.querySelector("."+i.OPTIONS),this._$list=this._$wrapper.querySelector("."+i.LIST),this._customChangeEvent=new CustomEvent("change",{bubbles:!0,cancelable:!1}),this._$field&&(this._argv.value&&(this._$field.value=this._argv.value,this._$field.dispatchEvent(this._customChangeEvent)),this._setActiveBySelect(this._$field),this._$field.addEventListener("change",(function(e){var s=e.currentTarget;t._setActiveBySelect(s)})),this._$field.addEventListener("click",(function(e){e.stopPropagation()})),this._$field.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault()}))),this._$options&&this._$options.addEventListener("click",(function(e){e.stopPropagation()})),this._$options&&this._$options.classList.contains("project-select__options--fixed")&&document.body.appendChild(this._$options),this._$wrapper.querySelectorAll("."+i.TOGGLE_SELECT).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.isOpen=!t.isOpen}))})),this._onClick(),this.closeView=this.closeView.bind(this),this._$wrapper.classList.add("project-select--inited")}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){n.ClickableItemStore.close(),this.isOpen?(n.ClickableItemStore.add(this),this.open(this._$title)):n.ClickableItemStore.close()},e.prototype._setActiveBySelect=function(e){if(this._$list){var t='[data-value="'+e.value+'"]',s=this._$list.querySelector(t);s&&s.classList.contains(i.LIST_ITEM_ACTIVE)||(s?this._setActive(s):console.error("Item "+e.value+" not found"))}},Object.defineProperty(e.prototype,"field",{get:function(){return this._$field},enumerable:!0,configurable:!0}),e.prototype._onClick=function(){var e=this;this._$list&&this._$list.addEventListener("click",(function(t){var s=t.target;s.classList.contains(i.LIST_ITEM)&&(t.preventDefault(),t.stopPropagation(),e._setActive(s),e.field&&(e.field.dispatchEvent(e._customChangeEvent),!e.field.multiple&&e.close()))})),this._$title&&this._$title.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),window.innerWidth>991?e.isOpen=!e.isOpen:e._$field}))},e.prototype._setActive=function(e){var t=e.getAttribute("data-index");if(this._$wrapper&&("0"==t?this._$wrapper.classList.remove("project-select--selected"):this._$wrapper.classList.add("project-select--selected")),this.field&&this._$list){if(this.field.multiple)this._selected.push(this.field.options[t].textContent);else this._$list.querySelectorAll("."+i.LIST_ITEM_ACTIVE).forEach((function(e){console.log(e),e.classList.remove(i.LIST_ITEM_ACTIVE)})),this._selected=[this.field.options[t].textContent];e.classList.add(i.LIST_ITEM_ACTIVE),this.field.options[t].selected=!0;var s=e.querySelector("[data-use-html]");if(null!==s)s&&this.setTitle(s.innerHTML);else{var o=e.dataset.title;o&&this.setTitle(o)}}},e.prototype.setTitle=function(e){this._$titleText&&(this._$titleText.innerHTML="\n            "+(e.length?e:"Select")+"\n      ")},e.prototype.open=function(t){var s=this._$wrapper,n=o.a.getParentByClass(s,"hover-box__item--show-on-hover"),r=o.a.getParentByClass(s,"project-product");if(s&&s.classList.add(i.OPTIONS_IS_OPEN),n&&n.classList.add(i.FOCUSED),t.parentNode.classList.remove(i.ERROR),this._isOpened=!0,e.activeSelect=this,this._$wrapper&&!this._$wrapper.classList.contains(i.ACCORDION)&&document.addEventListener("click",this.closeView),r&&(r.style.zIndex="2",r.classList.add("js-dropdown-opened")),this._$options&&this._$options.classList.contains("project-select__options--fixed")){var c=s.getBoundingClientRect(),p=o.a.getScrollState(document).scrollTop;this._$options.style.left=c.left+"px",this._$options.style.top=p+c.top+"px",this._$options.style.minWidth=c.width+"px",this._$options.style.zIndex="1000",this._$options.style.display="block"}},e.prototype.close=function(){if(this.isOpen)this.isOpen=!1;else{if(!this._$wrapper||!this._$title)return;this._$wrapper.classList.remove(i.OPTIONS_IS_OPEN),this._isOpened=!1;var t=o.a.getParentByClass(this._$wrapper,"hover-box__item--show-on-hover");t&&t.classList.remove(i.FOCUSED);var s=o.a.getParentByClass(this._$wrapper,"project-product");s&&(s.style.zIndex="",s.classList.remove("js-dropdown-opened")),this._$wrapper.classList.remove(i.OPTIONS_IS_OPEN),t&&t.classList.remove(i.FOCUSED),this._isOpened=!1,e.activeSelect=null,s&&(s.style.zIndex="",s.classList.remove("js-dropdown-opened")),this._$options&&this._$options.classList.contains("project-select__options--fixed")&&(this._$options.style.display=""),document.removeEventListener("click",this.closeView)}},e.prototype.closeView=function(){this.isOpen=!1},e}();t.default=r}}]);